!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){!function(k){"use strict";function t(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==o.call(t))throw new TypeError;var i=e.length,t=String(t),s=t.length,n=1<arguments.length?arguments[1]:void 0;return(n=n?Number(n):0)!=n&&(n=0),!(i<s+Math.min(Math.max(n,0),i))&&-1!=a.call(e,t,n)}var o,a,e,r;function i(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==r.call(t))throw new TypeError;var i=e.length,s=String(t),n=s.length,t=1<arguments.length?arguments[1]:void 0,t=t?Number(t):0,o=(t!=t&&(t=0),Math.min(Math.max(t,0),i));if(i<n+o)return!1;for(var a=-1;++a<n;)if(e.charCodeAt(o+a)!=s.charCodeAt(a))return!1;return!0}String.prototype.includes||(o={}.toString,e=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),a="".indexOf,e?e(String.prototype,"includes",{value:t,configurable:!0,writable:!0}):String.prototype.includes=t),String.prototype.startsWith||(e=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),r={}.toString,e?e(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i),Object.keys||(Object.keys=function(t,e,i){for(e in i=[],t)i.hasOwnProperty.call(t,e)&&i.push(e);return i});var s={useDefault:!1,_set:k.valHooks.select.set},m=(k.valHooks.select.set=function(t,e){return e&&!s.useDefault&&k(t).data("selected",!0),s._set.apply(this,arguments)},null),n=function(){try{return new Event("change"),!0}catch(t){return!1}}();function l(t){return k.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t?t.replace(this.re,this.ch):""}),t}k.fn.triggerNative=function(t){var e,i=this[0];i.dispatchEvent?(n?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),i.dispatchEvent(e)):i.fireEvent?((e=document.createEventObject()).eventType=t,i.fireEvent("on"+t,e)):this.trigger(t)},k.expr.pseudos.icontains=function(t,e,i){t=k(t).find("a");return(t.data("tokens")||t.text()).toString().toUpperCase().includes(i[3].toUpperCase())},k.expr.pseudos.ibegins=function(t,e,i){t=k(t).find("a");return(t.data("tokens")||t.text()).toString().toUpperCase().startsWith(i[3].toUpperCase())},k.expr.pseudos.aicontains=function(t,e,i){t=k(t).find("a");return(t.data("tokens")||t.data("normalizedText")||t.text()).toString().toUpperCase().includes(i[3].toUpperCase())},k.expr.pseudos.aibegins=function(t,e,i){t=k(t).find("a");return(t.data("tokens")||t.data("normalizedText")||t.text()).toString().toUpperCase().startsWith(i[3].toUpperCase())};function h(e){function i(t){return e[t]}var t="(?:"+Object.keys(e).join("|")+")",s=RegExp(t),n=RegExp(t,"g");return function(t){return s.test(t=null==t?"":""+t)?t.replace(n,i):t}}function d(t,e){s.useDefault||(k.valHooks.select.set=s._set,s.useDefault=!0),this.$element=k(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=e,null===this.options.title&&(this.options.title=this.$element.attr("title")),"number"==typeof(t=this.options.windowPadding)&&(this.options.windowPadding=[t,t,t,t]),this.val=d.prototype.val,this.render=d.prototype.render,this.refresh=d.prototype.refresh,this.setStyle=d.prototype.setStyle,this.selectAll=d.prototype.selectAll,this.deselectAll=d.prototype.deselectAll,this.destroy=d.prototype.destroy,this.remove=d.prototype.remove,this.show=d.prototype.show,this.hide=d.prototype.hide,this.init()}var y=h({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),p=h({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"});function c(t){var o,a=arguments,r=t,t=([].shift.apply(a),this.each(function(){var t=k(this);if(t.is("select")){var e=t.data("selectpicker"),i="object"==typeof r&&r;if(e){if(i)for(var s in i)i.hasOwnProperty(s)&&(e.options[s]=i[s])}else{var n=k.extend({},d.DEFAULTS,k.fn.selectpicker.defaults||{},t.data(),i);n.template=k.extend({},d.DEFAULTS.template,k.fn.selectpicker.defaults?k.fn.selectpicker.defaults.template:{},t.data().template,i.template),t.data("selectpicker",e=new d(this,n))}"string"==typeof r&&(o=e[r]instanceof Function?e[r].apply(e,a):e.options[r])}}));return void 0!==o?o:t}d.VERSION="1.12.4",d.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0},d.prototype={constructor:d,init:function(){var e=this,t=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==t&&(this.$button.attr("data-id",t),k('label[for="'+t+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid"),e.$element.on({"focus.bs.select":function(){e.$button.focus(),e.$element.off("focus.bs.select")},"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}}),e.$button.on("blur.bs.select",function(){e.$element.focus().blur(),e.$button.off("blur.bs.select")})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",e=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",n=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+y(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",a=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",t='<div class="btn-group bootstrap-select'+t+e+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+i+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu" role="combobox">'+s+n+o+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+a+"</div></div>";return k(t)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){var t=this.createLi();this.$menuInner[0].innerHTML=t},createLi:function(){function u(t,e,i,s){return"<li"+(void 0!==i&&""!==i?' class="'+i+'"':"")+(null!=e?' data-original-index="'+e+'"':"")+(null!=s?'data-optgroup="'+s+'"':"")+">"+t+"</li>"}function g(t,e,i,s){return'<a tabindex="0"'+(void 0!==e?' class="'+e+'"':"")+(i?' style="'+i+'"':"")+(f.options.liveSearchNormalize?' data-normalized-text="'+l(y(k(t).html()))+'"':"")+(void 0!==s||null!==s?' data-tokens="'+s+'"':"")+' role="option">'+t+'<span class="'+f.options.iconBase+" "+f.options.tickIcon+' check-mark"></span></a>'}var t,f=this,m=[],v=0,e=document.createElement("option"),b=-1,x=(this.options.title&&!this.multiple&&(b--,this.$element.find(".bs-title-option").length||(t=this.$element[0],e.className="bs-title-option",e.innerHTML=this.options.title,e.value="",t.insertBefore(e,t.firstChild),void 0===k(t.options[t.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&(e.selected=!0))),this.$element.find("option"));return x.each(function(t){var e=k(this);if(b++,!e.hasClass("bs-title-option")){var i,s=this.className||"",n=y(this.style.cssText),o=e.data("content")?e.data("content"):e.html(),a=e.data("tokens")?e.data("tokens"):null,r=void 0!==e.data("subtext")?'<small class="text-muted">'+e.data("subtext")+"</small>":"",l=void 0!==e.data("icon")?'<span class="'+f.options.iconBase+" "+e.data("icon")+'"></span> ':"",h=e.parent(),d="OPTGROUP"===h[0].tagName,p=d&&h[0].disabled,c=this.disabled||p;if(""!==l&&c&&(l="<span>"+l+"</span>"),f.options.hideDisabled&&(c&&!d||p))i=e.data("prevHiddenIndex"),e.next().data("prevHiddenIndex",void 0!==i?i:t),b--;else{if(e.data("content")||(o=l+'<span class="text">'+o+r+"</span>"),d&&!0!==e.data("divider")){if(f.options.hideDisabled&&c)if(void 0===h.data("allOptionsDisabled")&&(p=h.children(),h.data("allOptionsDisabled",p.filter(":disabled").length===p.length)),h.data("allOptionsDisabled"))return void b--;l=" "+h[0].className||"";if(0===e.index()&&(v+=1,r=h[0].label,d=void 0!==h.data("subtext")?'<small class="text-muted">'+h.data("subtext")+"</small>":"",r=(h.data("icon")?'<span class="'+f.options.iconBase+" "+h.data("icon")+'"></span> ':"")+'<span class="text">'+y(r)+d+"</span>",0!==t&&0<m.length&&(b++,m.push(u("",null,"divider",v+"div"))),b++,m.push(u(r,null,"dropdown-header"+l,v))),f.options.hideDisabled&&c)return void b--;m.push(u(g(o,"opt "+s+l,n,a),t,"",v))}else!0===e.data("divider")?m.push(u("",t,"divider")):!0===e.data("hidden")?(i=e.data("prevHiddenIndex"),e.next().data("prevHiddenIndex",void 0!==i?i:t),m.push(u(g(o,s,n,a),t,"hidden is-hidden"))):((p=!(p=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName)&&f.options.hideDisabled&&void 0!==(i=e.data("prevHiddenIndex"))&&(h=x.eq(i)[0].previousElementSibling)&&"OPTGROUP"===h.tagName&&!h.disabled?!0:p)&&(b++,m.push(u("",null,"divider",v+"div"))),m.push(u(g(o,s,n,a),t)));f.liObj[t]=b}}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),m.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var e,s=this,i=this.$element.find("option"),t=(!1!==t&&i.each(function(t){var e=s.findLis().eq(s.liObj[t]);s.setDisabled(t,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,e),s.setSelected(t,this.selected,e)}),this.togglePlaceholder(),this.tabIndex(),i.map(function(){var t,e,i;if(this.selected&&(!s.options.hideDisabled||!(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled)))return e=(t=k(this)).data("icon")&&s.options.showIcon?'<i class="'+s.options.iconBase+" "+t.data("icon")+'"></i> ':"",i=s.options.showSubtext&&t.data("subtext")&&!s.multiple?' <small class="text-muted">'+t.data("subtext")+"</small>":"",void 0!==t.attr("title")?t.attr("title"):t.data("content")&&s.options.showContent?t.data("content").toString():e+t.html()+i}).toArray()),n=this.multiple?t.join(this.options.multipleSeparator):t[0];this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")&&(1<(e=this.options.selectedTextFormat.split(">")).length&&t.length>e[1]||1==e.length&&2<=t.length)&&(e=this.options.hideDisabled?", [disabled]":"",i=i.not('[data-divider="true"], [data-hidden="true"]'+e).length,n=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(t.length,i):this.options.countSelectedText).replace("{0}",t.length.toString()).replace("{1}",i.toString())),null==this.options.title&&(this.options.title=this.$element.attr("title")),n=(n="static"==this.options.selectedTextFormat?this.options.title:n)||(void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",p(k.trim(n.replace(/<[^>]*>?/g,"")))),this.$button.children(".filter-option").html(n),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));t=t||this.options.style;"add"==e?this.$button.addClass(t):"remove"==e?this.$button.removeClass(t):(this.$button.removeClass(this.options.style),this.$button.addClass(t))},liHeight:function(t){var e,i,s,n,o,a,r,l,h,d;(t||!1!==this.options.size&&!this.sizeInfo)&&(t=document.createElement("div"),d=document.createElement("div"),s=document.createElement("ul"),h=document.createElement("li"),e=document.createElement("li"),n=document.createElement("a"),i=document.createElement("span"),o=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,a=this.options.liveSearch?document.createElement("div"):null,r=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,l=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,i.className="text",t.className=this.$menu[0].parentNode.className+" open",d.className="dropdown-menu",s.className="dropdown-menu inner",h.className="divider",i.appendChild(document.createTextNode("Inner text")),n.appendChild(i),e.appendChild(n),s.appendChild(e),s.appendChild(h),o&&d.appendChild(o),a&&(i=document.createElement("input"),a.className="bs-searchbox",i.className="form-control",a.appendChild(i),d.appendChild(a)),r&&d.appendChild(r),d.appendChild(s),l&&d.appendChild(l),t.appendChild(d),document.body.appendChild(t),e=n.offsetHeight,i=o?o.offsetHeight:0,s=a?a.offsetHeight:0,n=r?r.offsetHeight:0,o=l?l.offsetHeight:0,a=k(h).outerHeight(!0),l=(r="function"==typeof getComputedStyle&&getComputedStyle(d))?null:k(d),d={vert:(h={vert:parseInt(r?r.paddingTop:l.css("paddingTop"))+parseInt(r?r.paddingBottom:l.css("paddingBottom"))+parseInt(r?r.borderTopWidth:l.css("borderTopWidth"))+parseInt(r?r.borderBottomWidth:l.css("borderBottomWidth")),horiz:parseInt(r?r.paddingLeft:l.css("paddingLeft"))+parseInt(r?r.paddingRight:l.css("paddingRight"))+parseInt(r?r.borderLeftWidth:l.css("borderLeftWidth"))+parseInt(r?r.borderRightWidth:l.css("borderRightWidth"))}).vert+parseInt(r?r.marginTop:l.css("marginTop"))+parseInt(r?r.marginBottom:l.css("marginBottom"))+2,horiz:h.horiz+parseInt(r?r.marginLeft:l.css("marginLeft"))+parseInt(r?r.marginRight:l.css("marginRight"))+2},document.body.removeChild(t),this.sizeInfo={liHeight:e,headerHeight:i,searchHeight:s,actionsHeight:n,doneButtonHeight:o,dividerHeight:a,menuPadding:h,menuExtras:d})},setSize:function(){var s,n,o,a,r,l,h,d,p,c,u,t,g,f,m,v,b,x,y,w,C,e,i,S,$;this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size&&(n=(s=this).$menu,o=this.$menuInner,a=k(window),r=this.$newElement[0].offsetHeight,l=this.$newElement[0].offsetWidth,h=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,p=this.sizeInfo.searchHeight,c=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,t=this.sizeInfo.dividerHeight,g=this.sizeInfo.menuPadding,f=this.sizeInfo.menuExtras,i=this.options.hideDisabled?".disabled":"",(C=function(){var t,e=s.$newElement.offset(),i=k(s.options.container),i=(s.options.container&&!i.is("body")?((t=i.offset()).top+=parseInt(i.css("borderTopWidth")),t.left+=parseInt(i.css("borderLeftWidth"))):t={top:0,left:0},s.options.windowPadding);b=e.top-t.top-a.scrollTop(),x=a.height()-b-r-t.top-i[2],y=e.left-t.left-a.scrollLeft(),w=a.width()-y-l-t.left-i[1],b-=i[0],y-=i[3]})(),"auto"===this.options.size?((e=function(){function t(e,i){return function(t){return i?t.classList?t.classList.contains(e):k(t).hasClass(e):!(t.classList?t.classList.contains(e):k(t).hasClass(e))}}var e=s.$menuInner[0].getElementsByTagName("li"),e=Array.prototype.filter?Array.prototype.filter.call(e,t("hidden",!1)):s.$lis.not(".hidden"),i=Array.prototype.filter?Array.prototype.filter.call(e,t("dropdown-header",!0)):e.filter(".dropdown-header");C(),S=x-f.vert,m=w-f.horiz,v=s.options.container?(n.data("height")||n.data("height",n.height()),$=n.data("height"),n.data("width")||n.data("width",n.width()),n.data("width")):($=n.height(),n.width()),s.options.dropupAuto&&s.$newElement.toggleClass("dropup",x<b&&S-f.vert<$),s.$newElement.hasClass("dropup")&&(S=b-f.vert),"auto"===s.options.dropdownAlignRight&&n.toggleClass("dropdown-menu-right",w<y&&m-f.horiz<v-l),e=3<e.length+i.length?3*h+f.vert-2:0,n.css({"max-height":S+"px",overflow:"hidden","min-height":e+d+p+c+u+"px"}),o.css({"max-height":S-d-p-c-u-g.vert+"px","overflow-y":"auto","min-height":Math.max(e-g.vert,0)+"px"})})(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",e),a.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",e)):this.options.size&&"auto"!=this.options.size&&this.$lis.not(i).length>this.options.size&&(e=this.$lis.not(".divider").not(i).children().slice(0,this.options.size).last().parent().index(),i=this.$lis.slice(0,e+1).filter(".divider").length,S=h*this.options.size+i*t+g.vert,$=s.options.container?(n.data("height")||n.data("height",n.height()),n.data("height")):n.height(),s.options.dropupAuto&&this.$newElement.toggleClass("dropup",x<b&&S-f.vert<$),n.css({"max-height":S+d+p+c+u+"px",overflow:"hidden","min-height":""}),o.css({"max-height":S-g.vert+"px","overflow-y":"auto","min-height":""})))},setWidth:function(){var t,e,i,s;"auto"===this.options.width?(this.$menu.css("min-width","0"),t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,i=t.children(".dropdown-menu").outerWidth(),s=e.css("width","auto").children("button").outerWidth(),t.remove(),e.remove(),this.$newElement.css("width",Math.max(i,s)+"px")):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=k('<div class="bs-container" />');function e(t){o.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),i=t.offset(),a.is("body")?s={top:0,left:0}:((s=a.offset()).top+=parseInt(a.css("borderTopWidth"))-a.scrollTop(),s.left+=parseInt(a.css("borderLeftWidth"))-a.scrollLeft()),n=t.hasClass("dropup")?0:t[0].offsetHeight,o.$bsContainer.css({top:i.top-s.top+n,left:i.left-s.left,width:t[0].offsetWidth})}var i,s,n,o=this,a=k(this.options.container);this.$button.on("click",function(){var t=k(this);o.isDisabled()||(e(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass("open",!t.hasClass("open")).append(o.$menu))}),k(window).on("resize scroll",function(){e(o.$newElement)}),this.$element.on("hide.bs.select",function(){o.$menu.data("height",o.$menu.height()),o.$bsContainer.detach()})},setSelected:function(t,e,i){i||(this.togglePlaceholder(),i=this.findLis().eq(this.liObj[t])),i.toggleClass("selected",e).find("a").attr("aria-selected",e)},setDisabled:function(t,e,i){i=i||this.findLis().eq(this.liObj[t]),e?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},togglePlaceholder:function(){var t=this.$element.val();this.$button.toggleClass("bs-placeholder",null===t||""===t||t.constructor===Array&&0===t.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var f=this,e=k(document);e.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&e.data("spaceSelect")&&(t.preventDefault(),e.data("spaceSelect",!1))}),this.$button.on("click",function(){f.setSize()}),this.$element.on("shown.bs.select",function(){var t;f.options.liveSearch||f.multiple?f.multiple||"number"==typeof(t=f.liObj[f.$element[0].selectedIndex])&&!1!==f.options.size&&(t=(t=f.$lis.eq(t)[0].offsetTop-f.$menuInner[0].offsetTop)-f.$menuInner[0].offsetHeight/2+f.sizeInfo.liHeight/2,f.$menuInner[0].scrollTop=t):f.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(t){var e,i,s,n,o,a,r,l,h,d=k(this),p=d.parent().data("originalIndex"),c=f.$element.val(),u=f.$element.prop("selectedIndex"),g=!0;f.multiple&&1!==f.options.maxOptions&&t.stopPropagation(),t.preventDefault(),f.isDisabled()||d.parent().hasClass("disabled")||(i=(e=(t=f.$element.find("option")).eq(p)).prop("selected"),r=e.parent("optgroup"),s=f.options.maxOptions,n=r.data("maxOptions")||!1,f.multiple?(e.prop("selected",!i),f.setSelected(p,!i),d.blur(),(!1!==s||!1!==n)&&(o=s<t.filter(":selected").length,a=n<r.find("option:selected").length,s&&o||n&&a)&&(s&&1==s?(t.prop("selected",!1),e.prop("selected",!0),f.$menuInner.find(".selected").removeClass("selected"),f.setSelected(p,!0)):n&&1==n?(r.find("option:selected").prop("selected",!1),e.prop("selected",!0),r=d.parent().data("optgroup"),f.$menuInner.find('[data-optgroup="'+r+'"]').removeClass("selected"),f.setSelected(p,!0)):(d=(r="function"==typeof(d="string"==typeof f.options.maxOptionsText?[f.options.maxOptionsText,f.options.maxOptionsText]:f.options.maxOptionsText)?d(s,n):d)[0].replace("{n}",s),l=r[1].replace("{n}",n),h=k('<div class="notify"></div>'),r[2]&&(d=d.replace("{var}",r[2][1<s?0:1]),l=l.replace("{var}",r[2][1<n?0:1])),e.prop("selected",!1),f.$menu.append(h),s&&o&&(h.append(k("<div>"+d+"</div>")),g=!1,f.$element.trigger("maxReached.bs.select")),n&&a&&(h.append(k("<div>"+l+"</div>")),g=!1,f.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){f.setSelected(p,!1)},10),h.delay(750).fadeOut(300,function(){k(this).remove()})))):(t.prop("selected",!1),e.prop("selected",!0),f.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),f.setSelected(p,!0)),!f.multiple||f.multiple&&1===f.options.maxOptions?f.$button.focus():f.options.liveSearch&&f.$searchbox.focus(),g&&(c!=f.$element.val()&&f.multiple||u!=f.$element.prop("selectedIndex")&&!f.multiple)&&(m=[p,e.prop("selected"),i],f.$element.triggerNative("change")))}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),(f.options.liveSearch&&!k(t.target).hasClass("close")?f.$searchbox:f.$button).focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),(f.options.liveSearch?f.$searchbox:f.$button).focus()}),this.$menu.on("click",".popover-title .close",function(){f.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){(f.options.liveSearch?f.$searchbox:f.$button).focus(),t.preventDefault(),t.stopPropagation(),k(this).hasClass("bs-select-all")?f.selectAll():f.deselectAll()}),this.$element.change(function(){f.render(!1),f.$element.trigger("changed.bs.select",m),m=null})},liveSearchListener:function(){var n=this,o=k('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active"),n.$searchbox.val()&&(n.$searchbox.val(""),n.$lis.not(".is-hidden").removeClass("hidden"),o.parent().length)&&o.remove(),n.multiple||n.$menuInner.find(".selected").addClass("active"),setTimeout(function(){n.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var t,i,s,e;n.$lis.not(".is-hidden").removeClass("hidden"),n.$lis.filter(".active").removeClass("active"),o.remove(),n.$searchbox.val()&&(t=n.$lis.not(".is-hidden, .divider, .dropdown-header"),(e=n.options.liveSearchNormalize?t.not(":a"+n._searchStyle()+'("'+l(n.$searchbox.val())+'")'):t.not(":"+n._searchStyle()+'("'+n.$searchbox.val()+'")')).length===t.length?(o.html(n.options.noneResultsText.replace("{0}",'"'+y(n.$searchbox.val())+'"')),n.$menuInner.append(o),n.$lis.addClass("hidden")):(e.addClass("hidden"),(i=n.$lis.not(".hidden")).each(function(t){var e=k(this);e.hasClass("divider")?void 0===s?e.addClass("hidden"):(s&&s.addClass("hidden"),s=e):e.hasClass("dropdown-header")&&i.eq(t+1).data("optgroup")!==e.data("optgroup")?e.addClass("hidden"):s=null}),s&&s.addClass("hidden"),t.not(".hidden").first().addClass("active"),n.$menuInner.scrollTop(0)))})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(t){return void 0!==t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0),this.findLis();var e=this.$element.find("option"),i=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),s=i.length,n=[];if(t){if(i.filter(".selected").length===i.length)return}else if(0===i.filter(".selected").length)return;i.toggleClass("selected",t);for(var o=0;o<s;o++){var a=i[o].getAttribute("data-original-index");n[n.length]=e.eq(a)[0]}k(n).prop("selected",t),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click")},keydown:function(e){var i,t,s,n,o=k(this),a=(o.is("input")?o.parent():o).parent().data("this"),r=":not(.disabled, .hidden, .dropdown-header, .divider)",l={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},h=a.$newElement.hasClass("open");if(!h&&(48<=e.keyCode&&e.keyCode<=57||96<=e.keyCode&&e.keyCode<=105||65<=e.keyCode&&e.keyCode<=90))a.options.container?a.$button.trigger("click"):(a.setSize(),a.$menu.parent().addClass("open"),h=!0),a.$searchbox.focus();else{if(a.options.liveSearch&&/(^9$|27)/.test(e.keyCode.toString(10))&&h&&(e.preventDefault(),e.stopPropagation(),a.$menuInner.click(),a.$button.focus()),/(38|40)/.test(e.keyCode.toString(10))){if(!(s=a.$lis.filter(r)).length)return;n=a.options.liveSearch?s.index(s.filter(".active")):s.index(s.find("a").filter(":focus").parent()),t=a.$menuInner.data("prevIndex"),38==e.keyCode?(!a.options.liveSearch&&n!=t||-1==n||n--,n<0&&(n+=s.length)):40==e.keyCode&&(!a.options.liveSearch&&n!=t||n++,n%=s.length),a.$menuInner.data("prevIndex",n),a.options.liveSearch?(e.preventDefault(),o.hasClass("dropdown-toggle")||(s.removeClass("active").eq(n).addClass("active").children("a").focus(),o.focus())):s.eq(n).children("a").focus()}else o.is("input")||(i=[],(s=a.$lis.filter(r)).each(function(t){k.trim(k(this).children("a").text().toLowerCase()).substring(0,1)==l[e.keyCode]&&i.push(t)}),t=k(document).data("keycount"),t++,k(document).data("keycount",t),k.trim(k(":focus").text().toLowerCase()).substring(0,1)!=l[e.keyCode]?(t=1,k(document).data("keycount",t)):i.length<=t&&(k(document).data("keycount",0),i.length<t)&&(t=1),s.eq(i[t-1]).children("a").focus());(/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&a.options.selectOnTab)&&h&&(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),a.options.liveSearch?/(32)/.test(e.keyCode.toString(10))||(a.$menuInner.find(".active a").click(),o.focus()):((n=k(":focus")).click(),n.focus(),e.preventDefault(),k(document).data("spaceSelect",!0)),k(document).data("keycount",0)),(/(^9$|27)/.test(e.keyCode.toString(10))&&h&&(a.multiple||a.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!h)&&(a.$menu.parent().removeClass("open"),a.options.container&&a.$newElement.removeClass("open"),a.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),(this.$bsContainer||this.$menu).remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var u=k.fn.selectpicker;k.fn.selectpicker=c,k.fn.selectpicker.Constructor=d,k.fn.selectpicker.noConflict=function(){return k.fn.selectpicker=u,this},k(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',d.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(t){t.stopPropagation()}),k(window).on("load.bs.select.data-api",function(){k(".selectpicker").each(function(){var t=k(this);c.call(t,t.data())})})}(t)}),function($){$.fn.extend({slimScroll:function(C){var S=$.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"0",railBorderRadius:"0"},C);return this.each(function(){var s,e,n,i,o,a,r,l,h="<div></div>",d=30,p=!1,c=$(this);if(c.parent().hasClass(S.wrapperClass)){var u,g=c.scrollTop(),f=c.closest("."+S.barClass),m=c.closest("."+S.railClass);if(x(),$.isPlainObject(C)){if("height"in C&&"auto"==C.height&&(c.parent().css("height","auto"),c.css("height","auto"),u=c.parent().parent().height(),c.parent().css("height",u),c.css("height",u)),"scrollTo"in C)g=parseInt(S.scrollTo);else if("scrollBy"in C)g+=parseInt(S.scrollBy);else if("destroy"in C)return f.remove(),m.remove(),void c.unwrap();b(g,!1,!0)}}else $.isPlainObject(C)&&"destroy"in C||(S.height="auto"==S.height?c.parent().height():S.height,u=$(h).addClass(S.wrapperClass).css({position:"relative",overflow:"hidden",width:S.width,height:S.height}),c.css({overflow:"hidden",width:S.width,height:S.height}),m=$(h).addClass(S.railClass).css({width:S.size,height:"100%",position:"absolute",top:0,display:S.alwaysVisible&&S.railVisible?"block":"none","border-radius":S.railBorderRadius,background:S.railColor,opacity:S.railOpacity,zIndex:90}),f=$(h).addClass(S.barClass).css({background:S.color,width:S.size,position:"absolute",top:0,opacity:S.opacity,display:S.alwaysVisible?"block":"none","border-radius":S.borderRadius,BorderRadius:S.borderRadius,MozBorderRadius:S.borderRadius,WebkitBorderRadius:S.borderRadius,zIndex:99}),g="right"==S.position?{right:S.distance}:{left:S.distance},m.css(g),f.css(g),c.wrap(u),c.parent().append(f),c.parent().append(m),S.railDraggable&&f.bind("mousedown",function(e){var i=$(document);return n=!0,t=parseFloat(f.css("top")),pageY=e.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,f.css("top",currTop),b(0,f.position().top,!1)}),i.bind("mouseup.slimscroll",function(t){n=!1,w(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),m.hover(function(){y()},function(){w()}),f.hover(function(){e=!0},function(){e=!1}),c.hover(function(){s=!0,y(),w()},function(){s=!1,w()}),c.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(o=t.originalEvent.touches[0].pageY)}),c.bind("touchmove",function(t){p||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(b((o-t.originalEvent.touches[0].pageY)/S.touchScrollStep,!0),o=t.originalEvent.touches[0].pageY)}),x(),"bottom"===S.start?(f.css({top:c.outerHeight()-f.outerHeight()}),b(0,!0)):"top"!==S.start&&(b($(S.start).position().top,null,!0),S.alwaysVisible||f.hide()),h=this,window.addEventListener?(h.addEventListener("DOMMouseScroll",v,!1),h.addEventListener("mousewheel",v,!1)):document.attachEvent("onmousewheel",v));function v(t){var e,i;s&&(e=0,(t=t||window.event).wheelDelta&&(e=-t.wheelDelta/120),t.detail&&(e=t.detail/3),i=t.target||t.srcTarget||t.srcElement,$(i).closest("."+S.wrapperClass).is(c.parent())&&b(e,!0),t.preventDefault&&!p&&t.preventDefault(),p||(t.returnValue=!1))}function b(t,e,i){p=!1;var s=t,n=c.outerHeight()-f.outerHeight();e&&(s=parseInt(f.css("top"))+t*parseInt(S.wheelStep)/100*f.outerHeight(),s=Math.min(Math.max(s,0),n),s=0<t?Math.ceil(s):Math.floor(s),f.css({top:s+"px"})),s=(r=parseInt(f.css("top"))/(c.outerHeight()-f.outerHeight()))*(c[0].scrollHeight-c.outerHeight()),i&&(e=(s=t)/c[0].scrollHeight*c.outerHeight(),e=Math.min(Math.max(e,0),n),f.css({top:e+"px"})),c.scrollTop(s),c.trigger("slimscrolling",~~s),y(),w()}function x(){a=Math.max(c.outerHeight()/c[0].scrollHeight*c.outerHeight(),d),f.css({height:a+"px"});var t=a==c.outerHeight()?"none":"block";f.css({display:t})}function y(){var t;x(),clearTimeout(i),r==~~r?(p=S.allowPageScroll,l!=r&&(t=0==~~r?"top":"bottom",c.trigger("slimscroll",t))):p=!1,l=r,a>=c.outerHeight()?p=!0:(f.stop(!0,!0).fadeIn("fast"),S.railVisible&&m.stop(!0,!0).fadeIn("fast"))}function w(){S.alwaysVisible||(i=setTimeout(function(){S.disableFadeOut&&s||e||n||(f.fadeOut("slow"),m.fadeOut("slow"))},1e3))}}),this}}),$.fn.extend({slimscroll:$.fn.slimScroll})}(jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define([],function(){return e.apply(t)}):"object"==typeof exports?module.exports=e.call(t):t.Waves=e.call(t)}("object"==typeof global?global:this,function(){"use strict";var e={},i=document.querySelectorAll.bind(document),a=Object.prototype.toString,r="ontouchstart"in window;function s(t){var e=typeof t;return"function"==e||"object"==e&&!!t}function h(t){var e=a.call(t);return"[object String]"===e?i(t):s(t)&&/^\[object (Array|HTMLCollection|NodeList|Object)\]$/.test(e)&&t.hasOwnProperty("length")?t:s(e=t)&&0<e.nodeType?[t]:[]}function d(t){var e={top:0,left:0},i=t&&t.ownerDocument,s=i.documentElement;return void 0!==t.getBoundingClientRect&&(e=t.getBoundingClientRect()),i=null!==(i=t=i)&&i===i.window?t:9===t.nodeType&&t.defaultView,{top:e.top+i.pageYOffset-s.clientTop,left:e.left+i.pageXOffset-s.clientLeft}}function p(t){var e,i="";for(e in t)t.hasOwnProperty(e)&&(i+=e+":"+t[e]+";");return i}var c={duration:750,delay:200,show:function(t,e,i){if(2===t.button)return!1;e=e||this;var s=document.createElement("div"),n=(s.className="waves-ripple waves-rippling",e.appendChild(s),d(e)),o=0,a=0,o=(a=0<=(a="touches"in t&&t.touches.length?(o=t.touches[0].pageY-n.top,t.touches[0].pageX-n.left):(o=t.pageY-n.top,t.pageX-n.left))?a:0,0<=o?o:0),n="scale("+e.clientWidth/100*3+")",e="translate(0,0)",i=(i&&(e="translate("+i.x+"px, "+i.y+"px)"),s.setAttribute("data-hold",Date.now()),s.setAttribute("data-x",a),s.setAttribute("data-y",o),s.setAttribute("data-scale",n),s.setAttribute("data-translate",e),{top:o+"px",left:a+"px"}),o=(s.classList.add("waves-notransition"),s.setAttribute("style",p(i)),s.classList.remove("waves-notransition"),i["-webkit-transform"]=n+" "+e,i["-moz-transform"]=n+" "+e,i["-ms-transform"]=n+" "+e,i["-o-transform"]=n+" "+e,i.transform=n+" "+e,i.opacity="1","mousemove"===t.type?2500:c.duration);i["-webkit-transition-duration"]=o+"ms",i["-moz-transition-duration"]=o+"ms",i["-o-transition-duration"]=o+"ms",i["transition-duration"]=o+"ms",s.setAttribute("style",p(i))},hide:function(t,e){for(var i=(e=e||this).getElementsByClassName("waves-rippling"),s=0,n=i.length;s<n;s++)!function(t,e,i){var s,n,o,a,r,l;i&&(i.classList.remove("waves-rippling"),s=i.getAttribute("data-x"),n=i.getAttribute("data-y"),o=i.getAttribute("data-scale"),a=i.getAttribute("data-translate"),(r=350-(Date.now()-Number(i.getAttribute("data-hold"))))<0&&(r=0),"mousemove"===t.type&&(r=150),l="mousemove"===t.type?2500:c.duration,setTimeout(function(){i.setAttribute("style",p({top:n+"px",left:s+"px",opacity:"0","-webkit-transition-duration":l+"ms","-moz-transition-duration":l+"ms","-o-transition-duration":l+"ms","transition-duration":l+"ms","-webkit-transform":o+" "+a,"-moz-transform":o+" "+a,"-ms-transform":o+" "+a,"-o-transform":o+" "+a,transform:o+" "+a})),setTimeout(function(){try{e.removeChild(i)}catch(t){return!1}},l)},r))}(t,e,i[s])}},l={input:function(t){var e,i,s=t.parentNode;"i"===s.tagName.toLowerCase()&&s.classList.contains("waves-effect")||((e=document.createElement("i")).className=t.className+" waves-input-wrapper",t.className="waves-button-input",s.replaceChild(e,t),e.appendChild(t),i=(s=window.getComputedStyle(t,null)).color,s=s.backgroundColor,e.setAttribute("style","color:"+i+";background:"+s),t.setAttribute("style","background-color:rgba(0,0,0,0);"))},img:function(t){var e,i=t.parentNode;"i"===i.tagName.toLowerCase()&&i.classList.contains("waves-effect")||(e=document.createElement("i"),i.replaceChild(e,t),e.appendChild(t))}};var u={touches:0,allowEvent:function(t){var e=!0;return e=/^(mousedown|mousemove)$/.test(t.type)&&u.touches?!1:e},registerEvent:function(t){t=t.type;"touchstart"===t?u.touches+=1:/^(touchend|touchcancel)$/.test(t)&&setTimeout(function(){u.touches&&--u.touches},500)}};function n(e){var i,s,n,o=function(t){if(!1===u.allowEvent(t))return null;for(var e=null,i=t.target||t.srcElement;null!==i.parentElement;){if(i.classList.contains("waves-effect")&&!(i instanceof SVGElement)){e=i;break}i=i.parentElement}return e}(e);null===o||o.disabled||o.getAttribute("disabled")||o.classList.contains("disabled")||(u.registerEvent(e),"touchstart"===e.type&&c.delay?(i=!1,s=setTimeout(function(){s=null,c.show(e,o)},c.delay),o.addEventListener("touchmove",function(t){s&&(clearTimeout(s),s=null),n(t)},!(n=function(t){s&&(clearTimeout(s),s=null,c.show(e,o)),i||(i=!0,c.hide(t,o))})),o.addEventListener("touchend",n,!1),o.addEventListener("touchcancel",n,!1)):(c.show(e,o),r&&(o.addEventListener("touchend",c.hide,!1),o.addEventListener("touchcancel",c.hide,!1)),o.addEventListener("mouseup",c.hide,!1),o.addEventListener("mouseleave",c.hide,!1)))}return e.init=function(t){var e=document.body;"duration"in(t=t||{})&&(c.duration=t.duration),"delay"in t&&(c.delay=t.delay),r&&(e.addEventListener("touchstart",n,!1),e.addEventListener("touchcancel",u.registerEvent,!1),e.addEventListener("touchend",u.registerEvent,!1)),e.addEventListener("mousedown",n,!1)},e.attach=function(t,e){var i,s;t=h(t),e=(e="[object Array]"===a.call(e)?e.join(" "):e)?" "+e:"";for(var n=0,o=t.length;n<o;n++)s=(i=t[n]).tagName.toLowerCase(),-1!==["input","img"].indexOf(s)&&(l[s](i),i=i.parentElement),-1===i.className.indexOf("waves-effect")&&(i.className+=" waves-effect"+e)},e.ripple=function(t,e){var i=(t=h(t)).length;if((e=e||{}).wait=e.wait||0,e.position=e.position||null,i)for(var s={},n=0,o={type:"mousedown",button:1};n<i;n++){var a=t[n],r=e.position||{x:a.clientWidth/2,y:a.clientHeight/2},l=d(a);s.x=l.left+r.x,s.y=l.top+r.y,o.pageX=s.x,o.pageY=s.y,c.show(o,a),0<=e.wait&&null!==e.wait&&setTimeout(function(t,e){return function(){c.hide(t,e)}}({type:"mouseup",button:1},a),e.wait)}},e.calm=function(t){for(var e={type:"mouseup",button:1},i=0,s=(t=h(t)).length;i<s;i++)c.hide(e,t[i])},e.displayEffect=function(t){console.error("Waves.displayEffect() has been deprecated and will be removed in future version. Please use Waves.init() to initialize Waves effect"),e.init(t)},e}),function(w,j,W){var t;t=function(E){"use strict";var v,I,x,H,L,M,h,C,t,o,d,A,l,e,P,_,r,a,p,c,y,s,u,g,n,f={},m=0,i=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:W,normalRangeMax:W,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:W,chartRangeMax:W,chartRangeMinX:W,chartRangeMaxX:W,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:W,nullColor:W,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:W,chartRangeMin:W,chartRangeClip:!1,colorMap:W,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:W,thresholdValue:0,chartRangeMax:W,chartRangeMin:W,chartRangeClip:!1,tooltipFormat:new v("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:W,tooltipFormat:new v("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:W,targetColor:"#4a2",chartRangeMax:W,chartRangeMin:W,tooltipFormat:new v("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},b=function(){var t,e=function(){this.init.apply(this,arguments)};return 1<arguments.length?(arguments[0]?(e.prototype=E.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],2<arguments.length&&((t=Array.prototype.slice.call(arguments,1,-1)).unshift(e.prototype),E.extend.apply(E,t))):e.prototype=arguments[0],e.prototype.cls=e};E.SPFormatClass=v=b({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var s,n,o,a,r=this,l=t;return this.format.replace(this.fre,function(){return s=arguments[1],n=arguments[3],(o=r.precre.exec(s))?(a=o[2],s=o[1]):a=!1,(o=l[s])===W?"":n&&e&&e[n]?e[n].get?e[n].get(o)||o:e[n][o]||o:o=h(o)?i.get("numberFormatter")?i.get("numberFormatter")(o):d(o,a,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark")):o})}}),E.spformat=function(t,e){return new v(t,e)},I=function(t,e,i){return t<e?e:i<t?i:t},x=function(t,e){var i;return 2===e?(i=j.floor(t.length/2),t.length%2?t[i]:(t[i-1]+t[i])/2):t.length%2?(i=(t.length*e+e)/4)%1?(t[j.floor(i)]+t[j.floor(i)-1])/2:t[i-1]:(i=(t.length*e+2)/4)%1?(t[j.floor(i)]+t[j.floor(i)-1])/2:t[i-1]},H=function(t){var e;switch(t){case"undefined":t=W;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:t==(e=parseFloat(t))&&(t=e)}return t},L=function(t){for(var e=[],i=t.length;i--;)e[i]=H(t[i]);return e},M=function(t,e){for(var i=[],s=0,n=t.length;s<n;s++)t[s]!==e&&i.push(t[s]);return i},h=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},d=function(t,e,i,s,n){var o;for(t=(!1===e?parseFloat(t).toString():t.toFixed(e)).split(""),(e=(e=E.inArray(".",t))<0?t.length:e)<t.length&&(t[e]=n),o=e-i;0<o;o-=i)t.splice(o,0,s);return t.join("")},C=function(t,e,i){for(var s=e.length;s--;)if((!i||null!==e[s])&&e[s]!==t)return!1;return!0},o=function(t){return E.isArray(t)?t:[t]},t=function(t){var e,i;if(w.createStyleSheet)try{return void(w.createStyleSheet().cssText=t)}catch(t){i=!0}(e=w.createElement("style")).type="text/css",w.getElementsByTagName("head")[0].appendChild(e),i?w.styleSheets[w.styleSheets.length-1].cssText=t:e["string"==typeof w.body.style.WebkitAppearance?"innerText":"innerHTML"]=t},E.fn.simpledraw=function(t,e,i,s){var n;if(!i||!(n=this.data("_jqs_vcanvas"))){if(!1===E.fn.sparkline.canvas)return!1;if(E.fn.sparkline.canvas===W){var i=w.createElement("canvas");if(i.getContext&&i.getContext("2d"))E.fn.sparkline.canvas=function(t,e,i,s){return new u(t,e,i,s)};else{if(!w.namespaces||w.namespaces.v)return E.fn.sparkline.canvas=!1;w.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),E.fn.sparkline.canvas=function(t,e,i,s){return new g(t,e,i)}}}t===W&&(t=E(this).innerWidth()),e===W&&(e=E(this).innerHeight()),n=E.fn.sparkline.canvas(t,e,this,s),(i=E(this).data("_jqs_mhandler"))&&i.registerCanvas(n)}return n},E.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},E.RangeMapClass=A=b({init:function(t){var e,i,s=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&-1<e.indexOf(":")&&((i=e.split(":"))[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],s.push(i));this.map=t,this.rangelist=s||!1},get:function(t){var e,i,s,n=this.rangelist;if((s=this.map[t])!==W)return s;if(n)for(e=n.length;e--;)if((i=n[e])[0]<=t&&i[1]>=t)return i[2];return W}}),E.range_map=function(t){return new A(t)},l=b({init:function(t,e){var i=E(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=E(t.canvas);this.canvas=t,(this.$canvas=e).mouseenter(E.proxy(this.mouseenter,this)),e.mouseleave(E.proxy(this.mouseleave,this)),e.click(E.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=W)},mouseclick:function(t){var e=E.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(t){E(w.body).unbind("mousemove.jqs"),E(w.body).bind("mousemove.jqs",E.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new e(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){E(w.body).unbind("mousemove.jqs");var t,e=this.splist,i=e.length,s=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),t=0;t<i;t++)e[t].clearRegionHighlight()&&(s=!0);s&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,i,s=this.splist,n=s.length,o=!1,a=this.$canvas.offset(),r=this.currentPageX-a.left,l=this.currentPageY-a.top;if(this.over){for(e=0;e<n;e++)(i=s[e].setRegionHighlight(this.currentEl,r,l))&&(o=!0);if(o){if((a=E.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(a),this.tooltip){for(t="",e=0;e<n;e++)t+=s[e].getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===i&&this.mouseleave()}}}),e=b({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var e=t.get("tooltipClassname","jqstooltip"),i=this.sizeStyle;this.container=t.get("tooltipContainer")||w.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),E("#jqssizetip").remove(),E("#jqstooltip").remove(),this.sizetip=E("<div/>",{id:"jqssizetip",style:i,class:e}),this.tooltip=E("<div/>",{id:"jqstooltip",class:e}).appendTo(this.container),t=this.tooltip.offset(),this.offsetLeft=t.left,this.offsetTop=t.top,this.hidden=!0,E(window).unbind("resize.jqs scroll.jqs"),E(window).bind("resize.jqs scroll.jqs",E.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=E(window).scrollTop(),this.scrollLeft=E(window).scrollLeft(),this.scrollRight=this.scrollLeft+E(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){t?(this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())):(this.tooltip.css("visibility","hidden"),this.hidden=!0)},updatePosition:function(t,e){if(t===W){if(this.mousex===W)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=W,E(window).unbind("resize.jqs scroll.jqs")}}),E(function(){t('.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}')}),n=[],E.fn.sparkline=function(r,i){return this.each(function(){var t,o=new E.fn.sparkline.options(this,i),a=E(this),e=function(){var t,e,i,s="html"===r||r===W?(s=(s=this.getAttribute(o.get("tagValuesAttribute")))!==W&&null!==s?s:a.html()).replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(","):r,n="auto"===o.get("width")?s.length*o.get("defaultPixelsPerValue"):o.get("width");"auto"===o.get("height")?o.get("composite")&&E.data(this,"_jqs_vcanvas")||((i=w.createElement("span")).innerHTML="a",a.html(i),t=E(i).innerHeight()||E(i).height(),E(i).remove(),i=null):t=o.get("height"),o.get("disableInteraction")?e=!1:(e=E.data(this,"_jqs_mhandler"))?o.get("composite")||e.reset():(e=new l(this,o),E.data(this,"_jqs_mhandler",e)),o.get("composite")&&!E.data(this,"_jqs_vcanvas")?E.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),E.data(this,"_jqs_errnotify",!0)):((i=new E.fn.sparkline[o.get("type")](this,s,o,n,t)).render(),e&&e.registerSparkline(i))};if(E(this).html()&&!o.get("disableHiddenCheck")&&E(this).is(":hidden")||!E(this).parents("body").length){if(!o.get("composite")&&E.data(this,"_jqs_pending"))for(t=n.length;t;t--)n[t-1][0]==this&&n.splice(t-1,1);n.push([this,e]),E.data(this,"_jqs_pending",!0)}else e.call(this)})},E.fn.sparkline.defaults=i(),E.sparkline_display_visible=function(){for(var t,e=[],i=0,s=n.length;i<s;i++)t=n[i][0],E(t).is(":visible")&&!E(t).parents().is(":hidden")?(n[i][1].call(t),E.data(n[i][0],"_jqs_pending",!1),e.push(i)):E(t).closest("html").length||E.data(t,"_jqs_pending")||(E.data(n[i][0],"_jqs_pending",!1),e.push(i));for(i=e.length;i;i--)n.splice(e[i-1],1)},E.fn.sparkline.options=b({init:function(t,e){var i,s;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},i=(t=E.fn.sparkline.defaults).common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||i.tagOptionsPrefix),t=(s=this.getTagSetting("type"))===f?t[e.type||i.type]:t[s],this.mergedOptions=E.extend({},i,t,e)},getTagSetting:function(t){var e,i,s,n,o=this.tagOptionsPrefix;if(!1===o||o===W)return f;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if((e=this.tag.getAttribute(o+t))===W||null===e)e=f;else if("["===e.substr(0,1))for(i=(e=e.substr(1,e.length-2).split(",")).length;i--;)e[i]=H(e[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(s=e.substr(1,e.length-2).split(","),e={},i=s.length;i--;)e[(n=s[i].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=H(n[1].replace(/(^\s*)|(\s*$)/g,""));else e=H(e);this.tagValCache.key=e}return e},get:function(t,e){var i=this.getTagSetting(t);return i===f&&(i=this.mergedOptions[t])===W?e:i}}),E.fn.sparkline._base=b({disabled:!1,init:function(t,e,i,s,n){this.el=t,this.$el=E(t),this.values=e,this.options=i,this.width=s,this.height=n,this.currentRegion=W},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,i){var s=this.currentRegion,n=!this.options.get("disableHighlight");return e>this.canvasWidth||i>this.canvasHeight||e<0||i<0?null:s!==(t=this.getRegion(t,e,i))&&(s!==W&&n&&this.removeHighlight(),(this.currentRegion=t)!==W&&n&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return this.currentRegion!==W&&(this.removeHighlight(),!(this.currentRegion=W))},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t,e,i,s,n,o,a,r,l,h,d,p,c,u,g=this.options,f="",m=[];if(this.currentRegion===W)return"";if(t=this.getCurrentRegionFields(),d=g.get("tooltipFormatter"))return d(this,g,t);if(g.get("tooltipChartTitle")&&(f+='<div class="jqs jqstitle">'+g.get("tooltipChartTitle")+"</div>\n"),!(e=this.options.get("tooltipFormat")))return"";if(E.isArray(e)||(e=[e]),E.isArray(t)||(t=[t]),a=this.options.get("tooltipFormatFieldlist"),r=this.options.get("tooltipFormatFieldlistKey"),a&&r){for(l=[],o=t.length;o--;)h=t[o][r],-1!=(u=E.inArray(h,a))&&(l[u]=t[o]);t=l}for(i=e.length,c=t.length,o=0;o<i;o++)for(s=(p="string"==typeof(p=e[o])?new v(p):p).fclass||"jqsfield",u=0;u<c;u++)t[u].isNull&&g.get("tooltipSkipNull")||(E.extend(t[u],{prefix:g.get("tooltipPrefix"),suffix:g.get("tooltipSuffix")}),n=p.render(t[u],g.get("tooltipValueLookups"),g),m.push('<div class="'+s+'">'+n+"</div>"));return m.length?f+m.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,e){var i,s,n,o,a=e.get("highlightColor"),r=e.get("highlightLighten");if(a)return a;if(r&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(n=[],s=4===t.length?16:1,o=0;o<3;o++)n[o]=I(j.round(parseInt(i[o+1],16)*s*r),0,255);return"rgb("+n.join(",")+")"}return t}}),i={changeHighlight:function(t){var e=this.currentRegion,i=this.target,s=this.regionShapes[e];s&&(t=this.renderRegion(e,t),E.isArray(t)||E.isArray(s)?(i.replaceWithShapes(s,t),this.regionShapes[e]=E.map(t,function(t){return t.id})):(i.replaceWithShape(s,t),this.regionShapes[e]=t.id))},render:function(){var t,e,i,s,n=this.values,o=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){for(i=n.length;i--;)if(t=this.renderRegion(i))if(E.isArray(t)){for(e=[],s=t.length;s--;)t[s].append(),e.push(t[s].id);a[i]=e}else t.append(),a[i]=t.id;else a[i]=null;o.render()}}},E.fn.sparkline.line=P=b(E.fn.sparkline._base,{type:"line",init:function(t,e,i,s,n){P._super.init.call(this,t,e,i,s,n),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,i){for(var s=this.regionMap,n=s.length;n--;)if(null!==s[n]&&e>=s[n][0]&&e<=s[n][1])return s[n][2];return W},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t=this.currentRegion,e=this.target,t=this.vertices[t],i=this.options,s=i.get("spotRadius"),n=i.get("highlightSpotColor"),i=i.get("highlightLineColor");t&&(s&&n&&(s=e.drawCircle(t[0],t[1],s,W,n),this.highlightSpotId=s.id,e.insertAfterShape(this.lastShapeId,s)),i)&&(n=e.drawLine(t[0],this.canvasTop,t[0],this.canvasTop+this.canvasHeight,i),this.highlightLineId=n.id,e.insertAfterShape(this.lastShapeId,n))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){for(var t,e,i,s,n=this.values,o=n.length,a=this.xvalues,r=this.yvalues,l=this.yminmax,h=0;h<o;h++)t=n[h],e="string"==typeof n[h],i="object"==typeof n[h]&&n[h]instanceof Array,s=e&&n[h].split(":"),e&&2===s.length?(a.push(Number(s[0])),r.push(Number(s[1])),l.push(Number(s[1]))):i?(a.push(t[0]),r.push(t[1]),l.push(t[1])):(a.push(h),null===n[h]||"null"===n[h]?r.push(null):(r.push(Number(t)),l.push(Number(t))));this.options.get("xvalues")&&(a=this.options.get("xvalues")),this.maxy=this.maxyorg=j.max.apply(j,l),this.miny=this.minyorg=j.min.apply(j,l),this.maxx=j.max.apply(j,a),this.minx=j.min.apply(j,a),this.xvalues=a,this.yvalues=r,this.yminmax=l},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");e!==W&&(e<this.miny&&(this.miny=e),i>this.maxy)&&(this.maxy=i),t.get("chartRangeMin")!==W&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==W&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==W&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==W&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,e,i,s,n){var o=this.options.get("normalRangeMin"),a=this.options.get("normalRangeMax"),e=e+j.round(i-i*((a-this.miny)/n)),i=j.round(i*(a-o)/n);this.target.drawRect(t,e,s,i,W,this.options.get("normalRangeColor")).append()},render:function(){var t,e,i,s,n,o,a,r,l,h,d,p,c,u,g,f,m,v,b,x,y,w,C=this.options,S=this.target,$=this.canvasWidth,k=this.canvasHeight,R=this.vertices,T=C.get("spotRadius"),I=this.regionMap;if(P._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),x=this.xvalues,y=this.yvalues,this.yminmax.length)&&!(this.yvalues.length<2)){for(s=n=0,t=this.maxx-this.minx==0?1:this.maxx-this.minx,e=this.maxy-this.miny==0?1:this.maxy-this.miny,i=this.yvalues.length-1,(T=T&&($<4*T||k<4*T)?0:T)&&(((v=C.get("highlightSpotColor")&&!C.get("disableInteraction"))||C.get("minSpotColor")||C.get("spotColor")&&y[i]===this.miny)&&(k-=j.ceil(T)),(v||C.get("maxSpotColor")||C.get("spotColor")&&y[i]===this.maxy)&&(k-=j.ceil(T),s+=j.ceil(T)),!v&&(!C.get("minSpotColor")&&!C.get("maxSpotColor")||y[0]!==this.miny&&y[0]!==this.maxy)||(n+=j.ceil(T),$-=j.ceil(T)),v||C.get("spotColor")||C.get("minSpotColor")||C.get("maxSpotColor")&&(y[i]===this.miny||y[i]===this.maxy))&&($-=j.ceil(T)),k--,C.get("normalRangeMin")===W||C.get("drawNormalOnTop")||this.drawNormalRange(n,s,k,$,e),a=[o=[]],d=null,c=y.length,w=0;w<c;w++)r=x[w],p=x[w+1],l=y[w],h=n+j.round((r-this.minx)*($/t)),p=w<c-1?n+j.round((p-this.minx)*($/t)):$,I[w]=[d||0,p=h+(p-h)/2,w],d=p,null===l?w&&(null!==y[w-1]&&a.push(o=[]),R.push(null)):((l=l<this.miny?this.miny:l)>this.maxy&&(l=this.maxy),o.length||o.push([h,s+k]),p=[h,s+j.round(k-k*((l-this.miny)/e))],o.push(p),R.push(p));for(u=[],g=[],f=a.length,w=0;w<f;w++)(o=a[w]).length&&(C.get("fillColor")&&(o.push([o[o.length-1][0],s+k]),g.push(o.slice(0)),o.pop()),2<o.length&&(o[0]=[o[0][0],o[1][1]]),u.push(o));for(f=g.length,w=0;w<f;w++)S.drawShape(g[w],C.get("fillColor"),C.get("fillColor")).append();for(C.get("normalRangeMin")!==W&&C.get("drawNormalOnTop")&&this.drawNormalRange(n,s,k,$,e),f=u.length,w=0;w<f;w++)S.drawShape(u[w],C.get("lineColor"),W,C.get("lineWidth")).append();if(T&&C.get("valueSpots"))for((m=C.get("valueSpots")).get===W&&(m=new A(m)),w=0;w<c;w++)(b=m.get(y[w]))&&S.drawCircle(n+j.round((x[w]-this.minx)*($/t)),s+j.round(k-k*((y[w]-this.miny)/e)),T,W,b).append();T&&C.get("spotColor")&&null!==y[i]&&S.drawCircle(n+j.round((x[x.length-1]-this.minx)*($/t)),s+j.round(k-k*((y[i]-this.miny)/e)),T,W,C.get("spotColor")).append(),this.maxy!==this.minyorg&&(T&&C.get("minSpotColor")&&(r=x[E.inArray(this.minyorg,y)],S.drawCircle(n+j.round((r-this.minx)*($/t)),s+j.round(k-k*((this.minyorg-this.miny)/e)),T,W,C.get("minSpotColor")).append()),T)&&C.get("maxSpotColor")&&(r=x[E.inArray(this.maxyorg,y)],S.drawCircle(n+j.round((r-this.minx)*($/t)),s+j.round(k-k*((this.maxyorg-this.miny)/e)),T,W,C.get("maxSpotColor")).append()),this.lastShapeId=S.getLastShapeId(),this.canvasTop=s,S.render()}}}),E.fn.sparkline.bar=_=b(E.fn.sparkline._base,i,{type:"bar",init:function(t,e,i,s,n){var o,a,r,l,h,d,p,c,u,g,f=parseInt(i.get("barWidth"),10),m=parseInt(i.get("barSpacing"),10),v=i.get("chartRangeMin"),b=i.get("chartRangeMax"),x=i.get("chartRangeClip"),y=1/0,w=-1/0;for(_._super.init.call(this,t,e,i,s,n),R=0,T=e.length;R<T;R++)((o="string"==typeof(u=e[R])&&-1<u.indexOf(":"))||E.isArray(u))&&(l=!0,o&&(u=e[R]=L(u.split(":"))),u=M(u,null),(o=j.min.apply(j,u))<y&&(y=o),w<(o=j.max.apply(j,u)))&&(w=o);this.stacked=l,this.regionShapes={},this.barWidth=f,this.barSpacing=m,this.totalBarWidth=f+m,this.width=s=e.length*f+(e.length-1)*m,this.initTarget(),x&&(a=v===W?-1/0:v,r=b===W?1/0:b);for(var C=[],S=l?[]:C,$=[],k=[],R=0,T=e.length;R<T;R++)if(l)for(h=e[R],e[R]=c=[],d=S[R]=k[R]=$[R]=0,p=h.length;d<p;d++)null!==(u=c[d]=x?I(h[d],a,r):h[d])&&(0<u&&($[R]+=u),y<0&&0<w?u<0?k[R]+=j.abs(u):S[R]+=u:S[R]+=j.abs(u-(u<0?w:y)),C.push(u));else u=x?I(e[R],a,r):e[R],null!==(u=e[R]=H(u))&&C.push(u);this.max=t=j.max.apply(j,C),this.min=n=j.min.apply(j,C),this.stackMax=w=l?j.max.apply(j,$):t,this.stackMin=y=l?j.min.apply(j,C):n,i.get("chartRangeMin")!==W&&(i.get("chartRangeClip")||i.get("chartRangeMin")<n)&&(n=i.get("chartRangeMin")),i.get("chartRangeMax")!==W&&(i.get("chartRangeClip")||i.get("chartRangeMax")>t)&&(t=i.get("chartRangeMax")),this.zeroAxis=f=i.get("zeroAxis",!0),this.xaxisOffset=m=n<=0&&0<=t&&f?0:0==f||0<n?n:t,s=l?j.max.apply(j,S)+j.max.apply(j,k):t-n,this.canvasHeightEf=f&&n<0?this.canvasHeight-2:this.canvasHeight-1,n<m?(g=((l&&0<=t?w:t)-m)/s*this.canvasHeight)!==j.ceil(g)&&(this.canvasHeightEf-=2,g=j.ceil(g)):g=this.canvasHeight,this.yoffset=g,E.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===W&&(this.colorMapByValue=new A(this.colorMapByValue))),this.range=s},getRegion:function(t,e,i){e=j.floor(e/this.totalBarWidth);return e<0||e>=this.values.length?W:e},getCurrentRegionFields:function(){for(var t,e=this.currentRegion,i=o(this.values[e]),s=[],n=i.length;n--;)t=i[n],s.push({isNull:null===t,value:t,color:this.calcColor(n,t,e),offset:e});return s},calcColor:function(t,e,i){var s=this.colorMapByIndex,n=this.colorMapByValue,o=this.options,a=this.stacked?o.get("stackedBarColor"):e<0?o.get("negBarColor"):o.get("barColor");return 0===e&&o.get("zeroColor")!==W&&(a=o.get("zeroColor")),n&&(o=n.get(e))?a=o:s&&s.length>i&&(a=s[i]),E.isArray(a)?a[t%a.length]:a},renderRegion:function(t,e){var i,s,n,o,a,r,l,h=this.values[t],d=this.options,p=this.xaxisOffset,c=[],u=this.range,g=this.stacked,f=this.target,m=t*this.totalBarWidth,v=this.canvasHeightEf,b=this.yoffset,x=(h=E.isArray(h)?h:[h]).length,y=(h[0],C(null,h)),w=C(p,h,!0);if(y)return d.get("nullColor")?(n=e?d.get("nullColor"):this.calcHighlightColor(d.get("nullColor"),d),f.drawRect(m,i=0<b?b-1:b,this.barWidth-1,0,n,n)):W;for(o=b,a=0;a<x;a++){if(l=h[a],g&&l===p){if(!w||r)continue;r=!0}s=0<u?j.floor(v*(j.abs(l-p)/u))+1:1,l<p||l===p&&0===b?(i=o,o+=s):(i=b-s,b-=s),n=this.calcColor(a,l,t),e&&(n=this.calcHighlightColor(n,d)),c.push(f.drawRect(m,i,this.barWidth-1,s-1,n,n))}return 1===c.length?c[0]:c}}),E.fn.sparkline.tristate=r=b(E.fn.sparkline._base,i,{type:"tristate",init:function(t,e,i,s,n){var o=parseInt(i.get("barWidth"),10),a=parseInt(i.get("barSpacing"),10);r._super.init.call(this,t,e,i,s,n),this.regionShapes={},this.barWidth=o,this.barSpacing=a,this.totalBarWidth=o+a,this.values=E.map(e,Number),this.width=s=e.length*o+(e.length-1)*a,E.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===W&&(this.colorMapByValue=new A(this.colorMapByValue))),this.initTarget()},getRegion:function(t,e,i){return j.floor(e/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===W,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i=this.values,s=this.options,n=this.colorMapByIndex,o=this.colorMapByValue,t=o&&(o=o.get(t))?o:n&&n.length>e?n[e]:i[e]<0?s.get("negBarColor"):0<i[e]?s.get("posBarColor"):s.get("zeroBarColor");return t},renderRegion:function(t,e){var i,s=this.values,n=this.options,o=this.target,a=o.pixelHeight,a=j.round(a/2),r=t*this.totalBarWidth,a=s[t]<0?(i=a)-1:0<s[t]?(i=0,a-1):(i=a-1,2),s=this.calcColor(s[t],t);if(null!==s)return e&&(s=this.calcHighlightColor(s,n)),o.drawRect(r,i,this.barWidth-1,a-1,s,s)}}),E.fn.sparkline.discrete=a=b(E.fn.sparkline._base,i,{type:"discrete",init:function(t,e,i,s,n){a._super.init.call(this,t,e,i,s,n),this.regionShapes={},this.values=e=E.map(e,Number),this.min=j.min.apply(j,e),this.max=j.max.apply(j,e),this.range=this.max-this.min,this.width=s="auto"===i.get("width")?2*e.length:this.width,this.interval=j.floor(s/e.length),this.itemWidth=s/e.length,i.get("chartRangeMin")!==W&&(i.get("chartRangeClip")||i.get("chartRangeMin")<this.min)&&(this.min=i.get("chartRangeMin")),i.get("chartRangeMax")!==W&&(i.get("chartRangeClip")||i.get("chartRangeMax")>this.max)&&(this.max=i.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===i.get("lineHeight")?j.round(.3*this.canvasHeight):i.get("lineHeight"))},getRegion:function(t,e,i){return j.floor(e/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===W,value:this.values[t],offset:t}},renderRegion:function(t,e){var i=this.values,s=this.options,n=this.min,o=this.max,a=this.range,r=this.interval,l=this.target,h=this.canvasHeight,d=this.lineHeight,h=h-d,i=I(i[t],n,o),o=t*r,t=j.round(h-(i-n)/a*h),r=s.get("thresholdColor")&&i<s.get("thresholdValue")?s.get("thresholdColor"):s.get("lineColor");return e&&(r=this.calcHighlightColor(r,s)),l.drawLine(o,t,o,t+d,r)}}),E.fn.sparkline.bullet=p=b(E.fn.sparkline._base,{type:"bullet",init:function(t,e,i,s,n){var o;p._super.init.call(this,t,e,i,s,n),this.values=e=L(e),(t=e.slice())[0]=null===t[0]?t[2]:t[0],t[1]=null===e[1]?t[2]:t[1],t=j.min.apply(j,e),o=j.max.apply(j,e),t=i.get("base")===W?t<0?t:0:i.get("base"),this.min=t,this.max=o,this.range=o-t,this.shapes={},this.valueShapes={},this.regiondata={},this.width=s="auto"===i.get("width")?"4.0em":s,this.target=this.$el.simpledraw(s,n,i.get("composite")),e.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){t=this.target.getShapeAt(t,e,i);return t!==W&&this.shapes[t]!==W?this.shapes[t]:W},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,s=this.valueShapes[i];switch(delete this.shapes[s],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(s,e)},renderRange:function(t,e){var i=this.values[t],i=j.round(this.canvasWidth*((i-this.min)/this.range)),t=this.options.get("rangeColors")[t-2];return e&&(t=this.calcHighlightColor(t,this.options)),this.target.drawRect(0,0,i-1,this.canvasHeight-1,t,t)},renderPerformance:function(t){var e=this.values[1],e=j.round(this.canvasWidth*((e-this.min)/this.range)),i=this.options.get("performanceColor");return t&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,j.round(.3*this.canvasHeight),e-1,j.round(.4*this.canvasHeight)-1,i,i)},renderTarget:function(t){var e=this.values[0],e=j.round(this.canvasWidth*((e-this.min)/this.range)-this.options.get("targetWidth")/2),i=j.round(.1*this.canvasHeight),s=this.canvasHeight-2*i,n=this.options.get("targetColor");return t&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(e,i,this.options.get("targetWidth")-1,s-1,n,n)},render:function(){var t,e,i=this.values.length,s=this.target;if(p._super.render.call(this)){for(t=2;t<i;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),s.render()}}}),E.fn.sparkline.pie=c=b(E.fn.sparkline._base,{type:"pie",init:function(t,e,i,s,n){var o,a=0;if(c._super.init.call(this,t,e,i,s,n),this.shapes={},this.valueShapes={},this.values=e=E.map(e,Number),"auto"===i.get("width")&&(this.width=this.height),0<e.length)for(o=e.length;o--;)a+=e[o];this.total=a,this.initTarget(),this.radius=j.floor(j.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){t=this.target.getShapeAt(t,e,i);return t!==W&&this.shapes[t]!==W?this.shapes[t]:W},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===W,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,t=this.renderSlice(e,t),i=this.valueShapes[e];delete this.shapes[i],this.target.replaceWithShape(i,t),this.valueShapes[e]=t.id,this.shapes[t.id]=e},renderSlice:function(t,e){for(var i,s,n,o=this.target,a=this.options,r=this.radius,l=a.get("borderWidth"),h=a.get("offset"),d=2*j.PI,p=this.values,c=this.total,u=h?2*j.PI*(h/360):0,g=p.length,f=0;f<g;f++){if(s=i=u,0<c&&(s=u+d*(p[f]/c)),t===f)return n=a.get("sliceColors")[f%a.get("sliceColors").length],e&&(n=this.calcHighlightColor(n,a)),o.drawPieSlice(r,r,r-l,i,s,W,n);u=s}},render:function(){var t,e,i=this.target,s=this.values,n=this.options,o=this.radius,a=n.get("borderWidth");if(c._super.render.call(this)){for(a&&i.drawCircle(o,o,j.floor(o-a/2),n.get("borderColor"),W,a).append(),e=s.length;e--;)s[e]&&(t=this.renderSlice(e).append(),this.valueShapes[e]=t.id,this.shapes[t.id]=e);i.render()}}}),E.fn.sparkline.box=y=b(E.fn.sparkline._base,{type:"box",init:function(t,e,i,s,n){y._super.init.call(this,t,e,i,s,n),this.values=E.map(e,Number),this.width="auto"===i.get("width")?"4.0em":s,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==W&&t.push({field:"lo",value:this.loutlier}),this.routlier!==W&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==W&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==W&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,e,i,s,n,o,a,r,l,h,d=this.target,p=this.values,c=p.length,u=this.options,g=this.canvasWidth,f=this.canvasHeight,m=u.get("chartRangeMin")===W?j.min.apply(j,p):u.get("chartRangeMin"),v=u.get("chartRangeMax")===W?j.max.apply(j,p):u.get("chartRangeMax"),b=0;if(y._super.render.call(this)){if(u.get("raw"))u.get("showOutliers")&&5<p.length?(e=p[0],t=p[1],s=p[2],n=p[3],o=p[4],a=p[5],r=p[6]):(t=p[0],s=p[1],n=p[2],o=p[3],a=p[4]);else if(p.sort(function(t,e){return t-e}),s=x(p,1),n=x(p,2),i=(o=x(p,3))-s,u.get("showOutliers")){for(t=a=W,l=0;l<c;l++)t===W&&p[l]>s-i*u.get("outlierIQR")&&(t=p[l]),p[l]<o+i*u.get("outlierIQR")&&(a=p[l]);e=p[0],r=p[c-1]}else t=p[0],a=p[c-1];this.quartiles=[s,n,o],this.lwhisker=t,this.rwhisker=a,this.loutlier=e,this.routlier=r,h=g/(v-m+1),u.get("showOutliers")&&(b=j.ceil(u.get("spotRadius")),h=(g-=2*j.ceil(u.get("spotRadius")))/(v-m+1),e<t&&d.drawCircle((e-m)*h+b,f/2,u.get("spotRadius"),u.get("outlierLineColor"),u.get("outlierFillColor")).append(),a<r)&&d.drawCircle((r-m)*h+b,f/2,u.get("spotRadius"),u.get("outlierLineColor"),u.get("outlierFillColor")).append(),d.drawRect(j.round((s-m)*h+b),j.round(.1*f),j.round((o-s)*h),j.round(.8*f),u.get("boxLineColor"),u.get("boxFillColor")).append(),d.drawLine(j.round((t-m)*h+b),j.round(f/2),j.round((s-m)*h+b),j.round(f/2),u.get("lineColor")).append(),d.drawLine(j.round((t-m)*h+b),j.round(f/4),j.round((t-m)*h+b),j.round(f-f/4),u.get("whiskerColor")).append(),d.drawLine(j.round((a-m)*h+b),j.round(f/2),j.round((o-m)*h+b),j.round(f/2),u.get("lineColor")).append(),d.drawLine(j.round((a-m)*h+b),j.round(f/4),j.round((a-m)*h+b),j.round(f-f/4),u.get("whiskerColor")).append(),d.drawLine(j.round((n-m)*h+b),j.round(.1*f),j.round((n-m)*h+b),j.round(.9*f),u.get("medianColor")).append(),u.get("target")&&(g=j.ceil(u.get("spotRadius")),d.drawLine(j.round((u.get("target")-m)*h+b),j.round(f/2-g),j.round((u.get("target")-m)*h+b),j.round(f/2+g),u.get("targetColor")).append(),d.drawLine(j.round((u.get("target")-m)*h+b-g),j.round(f/2),j.round((u.get("target")-m)*h+b+g),j.round(f/2),u.get("targetColor")).append()),d.render()}}}),s=b({init:function(t,e,i,s){this.target=t,this.id=e,this.type=i,this.args=s},append:function(){return this.target.appendShape(this),this}}),i=b({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){t&&(this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),E.data(i,"_jqs_vcanvas",this))},drawLine:function(t,e,i,s,n,o){return this.drawShape([[t,e],[i,s]],n,o)},drawShape:function(t,e,i,s){return this._genShape("Shape",[t,e,i,s])},drawCircle:function(t,e,i,s,n,o){return this._genShape("Circle",[t,e,i,s,n,o])},drawPieSlice:function(t,e,i,s,n,o,a){return this._genShape("PieSlice",[t,e,i,s,n,o,a])},drawRect:function(t,e,i,s,n,o){return this._genShape("Rect",[t,e,i,s,n,o])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){E(e).html(t)},_calculatePixelDims:function(t,e,i){e=this._pxregex.exec(e);this.pixelHeight=e?e[1]:E(i).height(),e=this._pxregex.exec(t),this.pixelWidth=e?e[1]:E(i).width()},_genShape:function(t,e){var i=m++;return e.unshift(i),new s(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),u=b(i,{init:function(t,e,i,s){u._super.init.call(this,t,e,i),this.canvas=w.createElement("canvas"),i[0]&&(i=i[0]),E.data(i,"_jqs_vcanvas",this),E(this.canvas).css({display:"inline-block",width:t,height:e,verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=s,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=W,E(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var s=this.canvas.getContext("2d");return t!==W&&(s.strokeStyle=t),s.lineWidth=i===W?1:i,e!==W&&(s.fillStyle=e),s},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=W},_drawShape:function(t,e,i,s,n){var o,a,r=this._getContext(i,s,n);for(r.beginPath(),r.moveTo(e[0][0]+.5,e[0][1]+.5),o=1,a=e.length;o<a;o++)r.lineTo(e[o][0]+.5,e[o][1]+.5);i!==W&&r.stroke(),s!==W&&r.fill(),this.targetX!==W&&this.targetY!==W&&r.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,e,i,s,n,o,a){a=this._getContext(n,o,a);a.beginPath(),a.arc(e,i,s,0,2*j.PI,!1),this.targetX!==W&&this.targetY!==W&&a.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),n!==W&&a.stroke(),o!==W&&a.fill()},_drawPieSlice:function(t,e,i,s,n,o,a,r){var l=this._getContext(a,r);l.beginPath(),l.moveTo(e,i),l.arc(e,i,s,n,o,!1),l.lineTo(e,i),l.closePath(),a!==W&&l.stroke(),r&&l.fill(),this.targetX!==W&&this.targetY!==W&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,s,n,o,a){return this._drawShape(t,[[e,i],[e+s,i],[e+s,i+n],[e,i+n],[e,i]],o,a)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,s=this.shapeseq;for(this.shapes[e.id]=e,i=s.length;i--;)s[i]==t&&(s[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){for(var i,s,n=this.shapeseq,o={},a=t.length;a--;)o[t[a]]=!0;for(a=n.length;a--;)o[i=n[a]]&&(n.splice(a,1),delete this.shapes[i],s=a);for(a=e.length;a--;)n.splice(s,0,e[a].id),this.shapes[e[a].id]=e[a]},insertAfterShape:function(t,e){for(var i=this.shapeseq,s=i.length;s--;)if(i[s]===t)return i.splice(s+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){for(var e=this.shapeseq,i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i=this.shapeseq,s=this.shapes,n=i.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),e=0;e<n;e++)this["_draw"+(t=s[i[e]]).type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),g=b(i,{init:function(t,e,i){g._super.init.call(this,t,e,i),i[0]&&(i=i[0]),E.data(i,"_jqs_vcanvas",this),this.canvas=w.createElement("span"),E(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:e,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,i='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",i),this.group=E(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,s,n){for(var o,a,r=[],l=0,h=e.length;l<h;l++)r[l]=e[l][0]+","+e[l][1];return o=r.splice(0,1),n=n===W?1:n,a=r[0]===r[r.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+(i===W?' stroked="false" ':' strokeWeight="'+n+'px" strokeColor="'+i+'" ')+(s===W?' filled="false"':' fillColor="'+s+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+o+" l "+r.join(", ")+" "+a+'e"> </v:shape>'},_drawCircle:function(t,e,i,s,n,o,a){return'<v:oval  id="jqsshape'+t+'" '+(n===W?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+n+'" ')+(o===W?' filled="false"':' fillColor="'+o+'" filled="true" ')+' style="position:absolute;top:'+(i-=s)+"px; left:"+(e-=s)+"px; width:"+2*s+"px; height:"+2*s+'px"></v:oval>'},_drawPieSlice:function(t,e,i,s,n,o,a,r){var l,h,d,p;if(n===o)return"";if(o-n==2*j.PI&&(n=0,o=2*j.PI),l=e+j.round(j.cos(n)*s),h=i+j.round(j.sin(n)*s),d=e+j.round(j.cos(o)*s),p=i+j.round(j.sin(o)*s),l===d&&h===p){if(o-n<j.PI)return"";l=d=e+s,h=p=i}return l===d&&h===p&&o-n<j.PI?"":'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+(a===W?' stroked="false" ':' strokeWeight="1px" strokeColor="'+a+'" ')+(r===W?' filled="false"':' fillColor="'+r+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+e+","+i+" wa "+[e-s,i-s,e+s,i+s,l,h,d,p].join(", ")+' x e"> </v:shape>'},_drawRect:function(t,e,i,s,n,o,a){return this._drawShape(t,[[e,i],[e,i+n],[e+s,i+n],[e+s,i],[e,i]],o,a)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){t=E("#jqsshape"+t),e=this["_draw"+e.type].apply(this,e.args);t[0].outerHTML=e},replaceWithShapes:function(t,e){for(var i=E("#jqsshape"+t[0]),s="",n=e.length,o=0;o<n;o++)s+=this["_draw"+e[o].type].apply(this,e[o].args);for(i[0].outerHTML=s,o=1;o<t.length;o++)E("#jqsshape"+t[o]).remove()},insertAfterShape:function(t,e){t=E("#jqsshape"+t),e=this["_draw"+e.type].apply(this,e.args);t[0].insertAdjacentHTML("afterEnd",e)},removeShapeId:function(t){t=E("#jqsshape"+t);this.group.removeChild(t[0])},getShapeAt:function(t,e,i){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})},"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)}(document,Math),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(o){function a(t,e){this.$element=o(t),this.options=o.extend({},a.DEFAULTS,this.dataOptions(),e),this.init()}a.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:function(t,e){return t.toFixed(e.decimals)},onUpdate:null,onComplete:null},a.prototype.init=function(){this.value=this.options.from,this.loops=Math.ceil(this.options.speed/this.options.refreshInterval),this.loopCount=0,this.increment=(this.options.to-this.options.from)/this.loops},a.prototype.dataOptions=function(){var t,e={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")},i=Object.keys(e);for(t in i){var s=i[t];void 0===e[s]&&delete e[s]}return e},a.prototype.update=function(){this.value+=this.increment,this.loopCount++,this.render(),"function"==typeof this.options.onUpdate&&this.options.onUpdate.call(this.$element,this.value),this.loopCount>=this.loops&&(clearInterval(this.interval),this.value=this.options.to,"function"==typeof this.options.onComplete)&&this.options.onComplete.call(this.$element,this.value)},a.prototype.render=function(){var t=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(t)},a.prototype.restart=function(){this.stop(),this.init(),this.start()},a.prototype.start=function(){this.stop(),this.render(),this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)},a.prototype.stop=function(){this.interval&&clearInterval(this.interval)},a.prototype.toggle=function(){this.interval?this.stop():this.start()},o.fn.countTo=function(n){return this.each(function(){var t=o(this),e=t.data("countTo"),i="object"==typeof n?n:{},s="string"==typeof n?n:"start";e&&"object"!=typeof n||(e&&e.stop(),t.data("countTo",e=new a(this,i))),e[s].call(e)})}});